(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{39:function(e,t,r){},75:function(e,t,r){"use strict";r.r(t);var c=r(1),n=r.n(c),s=r(9),o=r.n(s),i=(r(39),r(6)),a=r(2),j=Object(c.createContext)(),l=function(e){var t=Object(c.useState)(JSON.parse(localStorage.getItem("usuario"))),r=Object(i.a)(t,2),n=r[0],s=r[1];return Object(a.jsx)(j.Provider,{value:{usuario:n,setUsuario:s},children:e.children})},d=r(14),h=r(5),b=r(4),u=r(15),O=r(19),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.useState)(e),r=Object(i.a)(t,2),n=r[0],s=r[1],o=function(){s(e)},a=function(e){var t=e.target;s(Object(O.a)(Object(O.a)({},n),{},Object(u.a)({},t.name,t.value)))};return[n,a,o]},p=r(10),f=r.n(p),m=r(20),g=r.n(m),v="http://localhost:8000/api",C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",c="".concat(v,"/").concat(e);return g()({method:r,url:c,data:t})},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",c="".concat(v,"/").concat(e),n=JSON.parse(localStorage.getItem("usuario")).token||"";return g()({method:r,url:c,data:t,headers:{"Content-type":"application/json","x-token":n}})},S=function(){var e=Object(c.useContext)(j),t=e.usuario,r=e.setUsuario,n=Object(h.t)();Object(c.useEffect)((function(){t&&n("/")}),[n,t]);var s=x({nombre:"",apellido:"",correo:"",password:"",cpassword:""}),o=Object(i.a)(s,2),l=o[0],d=o[1],u=x({correo:"",password:""}),O=Object(i.a)(u,2),p=O[0],m=O[1],g=l.nombre,v=l.apellido,w=l.correo,S=l.password,E=l.cpassword;return Object(a.jsx)(b.d,{className:"mt-5",children:Object(a.jsxs)(b.p,{children:[Object(a.jsxs)(b.b,{children:[Object(a.jsx)("h1",{children:"Register"}),Object(a.jsxs)(b.e,{onSubmit:function(e){e.preventDefault(),S!==E?f.a.fire({icon:"error",title:"Error",text:"Las contrase\xf1as no coinciden"}):C("auth/register",l,"POST").then((function(e){console.log(e),f.a.fire({icon:"success",title:"Registro exitoso",text:"Ahora puedes iniciar sesi\xf3n"}),r(e.data),localStorage.setItem("usuario",JSON.stringify(e.data)),n("/")})).catch((function(e){console.log(e.response),f.a.fire({icon:"error",title:"Error",text:e.response.data.message})}))},children:[Object(a.jsxs)(b.f,{children:[Object(a.jsx)(b.h,{for:"nombre",children:"Nombre"}),Object(a.jsx)(b.g,{id:"nombre",name:"nombre",placeholder:"Ingresar Nombre",type:"text",required:!0,minLength:"5",value:g,onChange:d})]}),Object(a.jsxs)(b.f,{children:[Object(a.jsx)(b.h,{for:"apellido",children:"Apellido"}),Object(a.jsx)(b.g,{id:"apellido",name:"apellido",placeholder:"Ingresar Apellido",type:"text",required:!0,minLength:"5",value:v,onChange:d})]}),Object(a.jsxs)(b.f,{children:[Object(a.jsx)(b.h,{for:"email",children:"Email"}),Object(a.jsx)(b.g,{id:"email",name:"correo",placeholder:"Ingresar Email",type:"email",required:!0,value:w,onChange:d})]}),Object(a.jsxs)(b.f,{children:[Object(a.jsx)(b.h,{for:"password",children:"Contrase\xf1a"}),Object(a.jsx)(b.g,{id:"password",name:"password",placeholder:"Ingresar contrase\xf1a",type:"password",required:!0,value:S,onChange:d})]}),Object(a.jsxs)(b.f,{children:[Object(a.jsx)(b.h,{for:"cpassword",children:"Confirmar Contrase\xf1a"}),Object(a.jsx)(b.g,{id:"cpassword",name:"cpassword",placeholder:"Confirmar contrase\xf1a",type:"password",required:!0,value:E,onChange:d})]}),Object(a.jsx)(b.a,{children:"Crear Usuario"})]})]}),Object(a.jsxs)(b.b,{children:[Object(a.jsx)("h1",{children:"Login"}),Object(a.jsxs)(b.e,{onSubmit:function(e){e.preventDefault(),C("auth/login",p,"POST").then((function(e){console.log(e),f.a.fire({icon:"success",title:"Bienvenido al Sistema",text:"Logeado correctamente"}),r(e.data),localStorage.setItem("usuario",JSON.stringify(e.data)),n("/")})).catch((function(e){console.log(e.response),f.a.fire({icon:"error",title:"Error",text:e.response.data.message})}))},children:[Object(a.jsxs)(b.f,{children:[Object(a.jsx)(b.h,{for:"email",children:"Email"}),Object(a.jsx)(b.g,{id:"email",name:"correo",placeholder:"Ingresar Email",type:"email",required:!0,value:p.correo,onChange:m})]}),Object(a.jsxs)(b.f,{children:[Object(a.jsx)(b.h,{for:"password",children:"Contrase\xf1a"}),Object(a.jsx)(b.g,{id:"password",name:"password",placeholder:"Ingresar contrase\xf1a",type:"password",required:!0,value:p.password,onChange:m})]}),Object(a.jsx)(b.a,{children:"Ingresar"})]})]})]})})},E=r(11),I=function(){var e=Object(c.useContext)(j),t=e.usuario,r=e.setUsuario,n=Object(h.t)();Object(c.useEffect)((function(){t||n("/login")}),[n,t]);return Object(a.jsxs)(b.l,{color:"vino",expand:"md",dark:!0,full:!0,children:[Object(a.jsx)(E.LinkContainer,{to:"/",children:Object(a.jsx)(b.m,{children:"PROYECTO BASE"})}),Object(a.jsx)(b.o,{onClick:function(){}}),Object(a.jsxs)(b.c,{navbar:!0,children:[Object(a.jsxs)(b.i,{className:"me-auto",navbar:!0,children:[Object(a.jsx)(b.j,{children:Object(a.jsx)(E.LinkContainer,{to:"/",children:Object(a.jsx)(b.k,{children:"Inicio"})})}),Object(a.jsx)(b.j,{children:Object(a.jsx)(E.LinkContainer,{to:"/usuarios",children:Object(a.jsx)(b.k,{children:"Usuarios"})})}),Object(a.jsx)(b.j,{children:Object(a.jsx)(E.LinkContainer,{to:"/usuarios/propio",children:Object(a.jsx)(b.k,{children:"Usuarios Propios"})})})]}),Object(a.jsxs)(b.n,{children:["Bienvenido/a ",null===t||void 0===t?void 0:t.nombre," - ",Object(a.jsx)(b.a,{onClick:function(){localStorage.removeItem("usuario"),r(null),n("/login")},color:"light",children:"SALIR"})]})]})]})},k=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(I,{}),Object(a.jsx)("h1",{children:"PANTALLA PRINCIPAL"})]})},y=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),r=t[0],n=t[1];return Object(c.useEffect)((function(){w("usuarios/propio").then((function(e){n(e.data)})).catch((function(e){f.a.fire({icon:"error",title:"Error",text:e.response.data.message})}))}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(I,{}),Object(a.jsxs)(b.d,{className:"mt-5",children:[Object(a.jsx)("h1",{children:"Usuarios Propio y Modificado"}),Object(a.jsxs)(b.q,{striped:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Nombre"}),Object(a.jsx)("th",{children:"Apellido"}),Object(a.jsx)("th",{children:"Correo"})]})}),Object(a.jsx)("tbody",{children:r.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.nombre}),Object(a.jsx)("td",{children:e.apellido}),Object(a.jsx)("td",{children:e.correo})]},e._id)}))})]})]})]})},N=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),r=t[0],n=t[1];return Object(c.useEffect)((function(){w("usuarios").then((function(e){n(e.data)})).catch((function(e){f.a.fire({icon:"error",title:"Error",text:e.response.data.message})}))}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(I,{}),Object(a.jsxs)(b.d,{className:"mt-5",children:[Object(a.jsx)("h1",{children:"Usuarios"}),Object(a.jsxs)(b.q,{striped:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Nombre"}),Object(a.jsx)("th",{children:"Apellido"}),Object(a.jsx)("th",{children:"Correo"})]})}),Object(a.jsx)("tbody",{children:r.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.nombre}),Object(a.jsx)("td",{children:e.apellido}),Object(a.jsx)("td",{children:e.correo})]},e._id)}))})]})]})]})},L=function(){return Object(a.jsx)(d.BrowserRouter,{children:Object(a.jsxs)(h.f,{children:[Object(a.jsx)(h.d,{path:"/",element:Object(a.jsx)(k,{})}),Object(a.jsx)(h.d,{path:"/login",element:Object(a.jsx)(S,{})}),Object(a.jsx)(h.d,{path:"/usuarios",element:Object(a.jsx)(N,{})}),Object(a.jsx)(h.d,{path:"/usuarios/propio",element:Object(a.jsx)(y,{})})]})})},A=function(){return Object(a.jsx)(l,{children:Object(a.jsx)(L,{})})};o.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(A,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.f4fcb3fa.chunk.js.map